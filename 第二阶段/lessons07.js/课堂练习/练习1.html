<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
    </title>
    <link rel="stylesheet" href="">
    <style>
    div {
        width: 500px;
        height: 400px;
        border: 5px solid black;
        margin: 0 auto;
        position: relative;
    }

    #ba {
        width: 30px;
        height: 30px;
        border: 1px solid black;
        border-radius: 50%;
        position: absolute;
        top: 0px;
        left: 0;
    }
    </style>
</head>

<body>
    <div id="box"></div>
</body>
<script>
var box = document.getElementById('box');


box.onclick = function() {
    //创建ball
    var ball = document.createElement('div');
    //随机颜色
    ball.style.backgroundColor = 'rgb(' + rN(0, 255) + ',' + rN(0, 255) + ',' + rN(0, 255) + ')';
    //预定义css
    ball.id = 'ba'
    //添加为box子级
    box.appendChild(ball);
    //活动范围
    var Ss = box.clientWidth - ball.clientWidth,
        Hs = box.clientHeight - ball.clientHeight;
        console.log(Hs)
    //速度及运动方向
    var Vm = rN(0, 10),
        Vh = rN(0, 10);

    //计时器
    var timer = setInterval(function() {
        //水平及垂直移动
        var Sm = ball.offsetLeft + Vm,
            Sh = ball.offsetTop + Vh;
        if (Sm >= Ss) {
            Sm = Ss;
            Vm *= -1;
        }
        if (Sm <= 0) {
            Sm = 0;
            Vm *= -1;
        }
        if (Sh >= Hs) {
            Sh = Hs;
            Vh *= -1;
        }
        if (Sh <= 0) {
            Sh = 0;
            Vh *= -1;
        }
        ball.style.left = Sm + 'px';
        ball.style.top = Sh + 'px';

    }, 20)
}



function rN(min, max) {
    return Math.round(Math.random() * (max - min) + min);
}
</script>

</html>